"use strict";function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var e,t={},i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(e,t,i){e[t]=i.value},c="function"==typeof Symbol?Symbol:{},o=c.iterator||"@@iterator",a=c.asyncIterator||"@@asyncIterator",s=c.toStringTag||"@@toStringTag";function d(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,i){return e[t]=i}}function l(e,t,i,n){var c=t&&t.prototype instanceof v?t:v,o=Object.create(c.prototype),a=new E(n||[]);return r(o,"_invoke",{value:$(e,i,a)}),o}function u(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var _="suspendedStart",m="suspendedYield",f="executing",h="completed",p={};function v(){}function g(){}function b(){}var y={};d(y,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(O([])));k&&k!==i&&n.call(k,o)&&(y=k);var C=b.prototype=v.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function i(r,c,o,a){var s=u(e[r],e,c);if("throw"!==s.type){var d=s.arg,l=d.value;return l&&"object"==_typeof(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,o,a)}),(function(e){i("throw",e,o,a)})):t.resolve(l).then((function(e){d.value=e,o(d)}),(function(e){return i("throw",e,o,a)}))}a(s.arg)}var c;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return c=c?c.then(r,r):r()}})}function $(t,i,n){var r=_;return function(c,o){if(r===f)throw Error("Generator is already running");if(r===h){if("throw"===c)throw o;return{value:e,done:!0}}for(n.method=c,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===_)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var d=u(t,i,n);if("normal"===d.type){if(r=n.done?h:m,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r=h,n.method="throw",n.arg=d.arg)}}}function T(t,i){var n=i.method,r=t.iterator[n];if(r===e)return i.delegate=null,"throw"===n&&t.iterator.return&&(i.method="return",i.arg=e,T(t,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var c=u(r,t.iterator,i.arg);if("throw"===c.type)return i.method="throw",i.arg=c.arg,i.delegate=null,p;var o=c.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,p):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function O(t){if(t||""===t){var i=t[o];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,c=function i(){for(;++r<t.length;)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return c.next=c}}throw new TypeError(_typeof(t)+" is not iterable")}return g.prototype=b,r(C,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:g,configurable:!0}),g.displayName=d(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},x(P.prototype),d(P.prototype,a,(function(){return this})),t.AsyncIterator=P,t.async=function(e,i,n,r,c){void 0===c&&(c=Promise);var o=new P(l(e,i,n,r),c);return t.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(C),d(C,s,"Generator"),d(C,o,(function(){return this})),d(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return a.type="throw",a.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var c=this.tryEntries.length-1;c>=0;--c){var o=this.tryEntries[c],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),d=n.call(o,"finallyLoc");if(s&&d){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var c=r;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),L(i),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;L(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:O(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}function asyncGeneratorStep(e,t,i,n,r,c,o){try{var a=e[c](o),s=a.value}catch(e){return void i(e)}a.done?t(s):Promise.resolve(s).then(n,r)}function _asyncToGenerator(e){return function(){var t=this,i=arguments;return new Promise((function(n,r){var c=e.apply(t,i);function o(e){asyncGeneratorStep(c,n,r,o,a,"next",e)}function a(e){asyncGeneratorStep(c,n,r,o,a,"throw",e)}o(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var BASE_API=TOOL_API;function getCreditsText(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){var i=t.val;if("string"==typeof i){var n=i.replace(/,/g,"");i=parseFloat(n)}i>1&&(e+="_p")}var r=textContentObj[e];for(var c in t){var o=new RegExp("{{".concat(c,"}}"),"g");r=r.replace(o,t[c])}return r}var CreditsCombo=function(){return _createClass((function e(t,i,n){_classCallCheck(this,e),this.element=t,this.comboData=[],this.m_actCombo=null,this.mainObj=i,this.monthLists=["Due_january","Due_february","Due_march","Due_april","Due_may","Due_june","Due_july","Due_august","Due_september","Due_october","Due_november","Due_december"],this.productData=n,this.initComboList()}),[{key:"initComboList",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.productData,this.setComboData(i),this.mainObj.comboAndPackInitEnd("combo"),initPay(i[0]),this.eventInit((null===(t=i[0].country_gradient)||void 0===t?void 0:t.includes("T1"))||!0),this.element.removeClass("credits_container_loading"),e.abrupt("return");case 12:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"eventInit",value:function(e){var t=this;mobile_diversion;this.element.find(".credit_subscribe").click((function(){if(getCookie("access_token")){var e=$(this).attr("data-id"),i=t.comboData.filter((function(t){return t.id===e}))[0];switch(i.num){case 1:gtag("event","pricing_monthly_buy");break;case 6:gtag("event","pricing_halfyearly_buy");break;case 12:gtag("event","pricing_yearly_buy")}changeCarInfo(i)}else showLoginWindow({isReloading:!0})})),$("#credits_subscribe_page .m_credit_subscribe").click((function(){if(getCookie("access_token")){var e=t.m_actCombo;switch(e.num){case 1:gtag("event","pricing_monthly_buy");break;case 6:gtag("event","pricing_halfyearly_buy");break;case 12:gtag("event","pricing_yearly_buy")}changeCarInfo(e)}else showLoginWindow({isReloading:!0})})),this.element.find(".credits_combo_item").click((function(){t.changeCombo_m(this)})),t.changeCombo_m(this.element.find(".credit_credits_max")[0]),$("#credits_fiexd_container .credits_fiexd_submit").click((function(){if("combo"===t.mainObj.page)if(getCookie("access_token")){var e=t.m_actCombo;switch(e.num){case 1:gtag("event","pricing_monthly_buy");break;case 6:gtag("event","pricing_halfyearly_buy");break;case 12:gtag("event","pricing_yearly_buy")}changeCarInfo(e)}else showLoginWindow({isReloading:!0})})),$("#credits_pack_combo_mB .credit_subscribe_mB").click((function(){if("combo"===t.mainObj.page)if(getCookie("access_token")){var e=t.m_actCombo;switch(e.num){case 1:gtag("event","pricing_monthly_buy");break;case 6:gtag("event","pricing_halfyearly_buy");break;case 12:gtag("event","pricing_yearly_buy")}changeCarInfo(e)}else showLoginWindow({isReloading:!0})})),$(window).on("scroll",(function(){var e=$(".credits_combo_container_wrapper"),t=$(window).scrollTop();$(".credits_combo_container_fix_placeholder").offset().top<t?e.addClass("fixed"):e.removeClass("fixed")}))}},{key:"initComboBtn",value:function(){this.changeCombo_m(this.element.find(".credit_credits_max")[0])}},{key:"setComboData",value:function(e){var t;this.comboData=e.sort((function(e,t){return e.credit_num-t.credit_num})),this.setMobile_planB(e);mobile_diversion;null!==(t=this.comboData[0].country_gradient)&&void 0!==t&&t.includes("T1");var i="";this.comboData.forEach((function(e){var t="";e.save&&e.save!==e.price&&0!==parseFloat(e.save)&&(t='<div class="credit_price_or">\n                                    '.concat(e.symbol).concat(e.save,"\n                                </div>"));var n,r="",c="";1===e.num?(c=getCreditsText("Monthly"),gtag("event","pricing_monthly_show")):6===e.num?(c=getCreditsText("Half_Yearly"),gtag("event","pricing_halfyearly_show")):(c=getCreditsText("Yearly"),r="credit_credits_max",gtag("event","pricing_yearly_show")),n=c;var o="";"0"!=e.discount&&""!=e.discount&&(o='<div class="credit_discount">\n                                '.concat(getCreditsText("discount",{val:e.discount}),"\n                              </div>")),i+='\n            <div class="credits_combo_item '.concat(r,'">\n                ').concat(o,'\n                <div class="credit_info">\n                <div class="credit_name">\n                    ').concat(n,'\n                </div>\n                <div class="credit_num">\n                    ').concat(getCreditsText("Credits",{val:formatter.format(e.credit_num)},!0),'\n                </div>\n                </div>\n                <div class="credit_price_detail">\n                <div class="credit_price">\n                    <div class="credit_price_align">\n                    <span>').concat(e.symbol,"</span>").concat(e.price,"\n                    </div>\n                    ").concat(t,'\n                </div>\n                <div class="credit_price_each">\n                    ').concat(getCreditsText("credit_price",{val:e.symbol+""+e.ai_per_minute_dollar}),'\n                </div>\n                </div>\n                <div class="credit_subscribe" data-id=').concat(e.id,">\n                    ").concat(textContentObj.Subscribe,"\n                </div>\n            </div>\n            ")})),this.element.html(i)}},{key:"getCombo",value:function(){return getProductData()}},{key:"changeCombo_m",value:function(e){var t=this,i=$(e).find(".credit_subscribe").attr("data-id"),n=t.comboData.filter((function(e){return e.id===i}))[0];if(n){t.m_actCombo=n,t.element.find(".credits_combo_item").removeClass("credits_combo_item_act"),$(e).addClass("credits_combo_item_act");var r=$(e).index();$(".credit_plan_info_cell").addClass("hidden"),$(".credit_plan_info_row").each((function(e,t){var i=$(t).find(".credit_plan_info_cell");i.eq(0).removeClass("hidden"),i.eq(r+1).removeClass("hidden")})),$(".m_credit_subscribe_credits").text(getCreditsText("Credits_p",{val:parseInt(n.credit_num)})),$(".m_credit_subscribe_price").html("<span>".concat(n.symbol,"</span>").concat(n.price));var c=$(".m_credit_subscribe_list_price");if(n.save?c.text(n.symbol+""+n.save):c.hide(),n.save===n.price?c.hide():c.show(),$(".m_credit_subscribe_due").text(t.getFutureYearAndMonth(n.num)),$("#credits_subscribe_page .m_credit_plan_content1").html(getCreditsText("m_your_plan4",{val:parseInt(n.credit_num),val2:parseInt(n.credit_num/20)})),$("#credits_subscribe_page .m_credit_plan_content2").html(textContentObj.m_your_plan5),$("#credits_subscribe_page .m_credit_plan_content3").html(getCreditsText("m_your_plan6",{val:500})),$("#credits_subscribe_page .m_credit_plan_content4").html(getCreditsText("m_your_plan7",{val:500})),"combo"===t.mainObj.page){$("#credits_fiexd_container .credits_fiexd_num").text(getCreditsText("Credits",{val:n.credit_num},!0)),$("#credits_fiexd_container .credits_fiexd_price").html("<span>".concat(n.symbol,"</span>").concat(n.price)),$("#credits_fiexd_container .credits_price_each").text(t.getFutureYearAndMonth(n.num));var o=n.save?n.symbol+""+n.save:"";$("#credits_fiexd_container .credits_fiexd_price_or").text(o),n.save===n.price?$("#credits_fiexd_container .credits_fiexd_price_or").hide():$("#credits_fiexd_container .credits_fiexd_price_or").show(),$("#credits_fiexd_container .credits_fiexd_submit").text(getCreditsText("Subscribe"))}}}},{key:"getFutureYearAndMonth",value:function(e){var t=new Date,i=new Date(t.getFullYear(),t.getMonth()+e,t.getDate()),n=i.getFullYear(),r=i.getMonth()+1,c=i.getDate();return getCreditsText(this.monthLists[r-1],{val:c,val2:n})}},{key:"setMobile_planB",value:function(e){var t=this,i=$("#credits_pack_combo_mB");i.removeClass("credits_container_loading");var n=e.sort((function(e,t){return e.credit_num-t.credit_num})),r="";n.forEach((function(e,t){var i,n="",c="";1===e.num?n=getCreditsText("Monthly"):6===e.num?n=getCreditsText("Half_Yearly"):(n=getCreditsText("Yearly"),c="checked_item"),i=n;var o="";e.save&&e.save!==e.price&&0!==parseFloat(e.save)&&(o='<div class="credit_price_or">\n                                    '.concat(e.symbol).concat(e.save,"\n                                </div>")),r+='\n            <div class="select_item '.concat(c,'" comboDataIndex="').concat(t,'">\n              <div class="credit_discount">\n                ').concat(getCreditsText("discount",{val:e.discount}),'\n              </div>\n              <div class="credit_name">\n                ').concat(i,'\n              </div>\n              <div class="credit_price">\n                <div class="credit_price_align">\n                  <span>').concat(e.symbol,"</span>").concat(e.price,"\n                </div>\n                ").concat(o,'\n              </div>\n              <img class="check_icon" src="/dist/img/ai-tool-pricing/icon_checked_mB.svg" />\n            </div>\n            ')})),i.find(".credits_combo_item_mb").html(r),t.setCheckedCombo(n[n.length-1]),i.find(".select_item").click((function(){i.find(".select_item").removeClass("checked_item"),$(this).addClass("checked_item");var e=$(this).attr("comboDataIndex");t.element.find(".credits_combo_item")[e].click(),t.setCheckedCombo()}))}},{key:"setCheckedCombo",value:function(e){var t,i=e||this.m_actCombo,n=10;null!==(t=this.comboData[0].country_gradient)&&void 0!==t&&t.includes("T1"),n=15;var r=$("#credits_pack_combo_mB"),c=r.find(".credit_info .credit_price_detail .credits_num_mB .text_value_mB"),o=r.find(".credit_info .credit_price_detail .credits_unit_mB .text_value_mB"),a=r.find("#Swap_photos_value"),s=r.find("#Swap_video_value");c.text(i.credit_num),o.text(i.symbol+i.ai_per_minute_dollar),a.text(i.credit_num),s.text(getCreditsText("value_min",{val:Math.round(i.credit_num/5*n/60)}));var d=r.find("#Credits_renewed_time"),l="";l=1===i.num?getCreditsText("Credits_renewed_monthly"):6===i.num?getCreditsText("Credits_renewed_half-yearly"):getCreditsText("Credits_renewed_yearly"),d.text(l)}}]);var e}(),CreditsPack=function(){return _createClass((function e(t,i,n){_classCallCheck(this,e),this.element=t,this.packData=[],this.m_actPack={},this.mainObj=i,this.productData=n,this.initPackData()}),[{key:"initPackData",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.productData,this.setPackData(t),initPay(t[0]),this.mainObj.comboAndPackInitEnd("pack"),this.eventInit(),this.element.removeClass("credits_container_loading");case 6:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"eventInit",value:function(){var e=this;this.element.find(".credit_subscribe").click((function(){if(getCookie("access_token")){var t=$(this).attr("data-id"),i=e.packData.filter((function(e){return e.id===t}))[0];gtag("event","pack_credit".concat(i.credit_num,"_buy")),changeCarInfo(i,"credit")}else showLoginWindow({isReloading:!0})})),$("#credits_pack_page .m_credit_subscribe").click((function(){if(getCookie("access_token")){var t=e.m_actPack;gtag("event","pack_credit".concat(t.credit_num,"_buy")),changeCarInfo(t,"credit")}else showLoginWindow({isReloading:!0})})),this.element.find(".credits_pack_item").click((function(){e.changePack_m(this)})),e.changePack_m(this.element.find(".credits_pack_item")[2]),$("#credits_fiexd_container .credits_fiexd_submit").click((function(){if("pack"===e.mainObj.page)if(getCookie("access_token")){var t=e.m_actPack;gtag("event","pack_credit".concat(t.credit_num,"_buy")),changeCarInfo(t,"credit")}else showLoginWindow({isReloading:!0})}))}},{key:"initPackBtn",value:function(){this.changePack_m(this.element.find(".credits_pack_item")[2])}},{key:"setPackData",value:function(e){this.packData=e.sort((function(e,t){return e.credit_num-t.credit_num}));var t="";this.packData.forEach((function(e){var i="";e.discount&&"0"!=e.discount&&(i='<div class="credit_discount">\n                                '.concat(e.discount,"% OFF\n                              </div>"));var n='<div class="credit_price_or credit_price_none">\n                '.concat(e.symbol).concat(e.save,"\n            </div>");e.save!==e.price&&e.save&&0!==parseFloat(e.save)&&(n='<div class="credit_price_or">\n                                    '.concat(e.symbol).concat(e.save,"\n                                </div>")),t+='\n            <div class="credits_pack_item">\n                '.concat(i,'\n                <div class="credit_num">\n                    ').concat(getCreditsText("Credits",{val:formatter.format(e.credit_num)},!0),'\n                </div>\n                <div class="credit_price_detail">\n                    <div class="credit_price">\n                            ').concat(n,'\n                        <div class="credit_price_align">\n                            <span>').concat(e.symbol,"</span>").concat(e.price,'\n                        </div>\n                    </div>\n                    <div class="credit_price_each">\n                        ').concat(e.symbol).concat(e.ai_per_minute_dollar,'/Credit\n                    </div>\n                    \n                    <div class="m_credit_price_num">\n                        <div class="credit_num">\n                            ').concat(getCreditsText("Credits",{val:formatter.format(e.credit_num)},!0),'\n                        </div>\n                        <div class="credit_price_each">\n                            ').concat(e.symbol).concat(e.ai_per_minute_dollar,'/Credit\n                        </div>\n                    </div>\n                </div>\n                <div class="credit_subscribe" data-id=').concat(e.id,">\n                    ").concat(getCreditsText("Buy_Now"),"\n                </div>\n            </div>\n            "),gtag("event","pack_credit".concat(e.credit_num,"_show"))})),this.element.html(t)}},{key:"getPackData",value:function(){return getProductData()}},{key:"changePack_m",value:function(e){var t=this,i=$(e).find(".credit_subscribe").attr("data-id"),n=t.packData.filter((function(e){return e.id===i}))[0];if(n){t.m_actPack=n,t.element.find(".credits_pack_item").removeClass("credits_pack_item_act"),$(e).addClass("credits_pack_item_act"),$(".m_credit_subscribe_credits").text(getCreditsText("Credits_p",{val:parseInt(n.credit_num)})),$(".m_credit_subscribe_due").text(""),$(".m_credit_subscribe_price").html("<span>".concat(n.symbol,"</span>").concat(n.price));var r=$(".m_credit_subscribe_list_price");if(n.save?r.text(n.symbol+""+n.save):r.hide(),n.save===n.price?r.hide():r.show(),"pack"===t.mainObj.page){$("#credits_fiexd_container .credits_fiexd_num").text(getCreditsText("Credits",{val:n.credit_num},!0)),$("#credits_fiexd_container .credits_fiexd_price").html("<span>".concat(n.symbol,"</span>").concat(n.price)),$("#credits_fiexd_container .credits_price_each").text(getCreditsText("credit_price",{val:n.symbol+""+n.ai_per_minute_dollar}));var c=n.save?n.symbol+""+n.save:"";$("#credits_fiexd_container .credits_fiexd_price_or").text(c),n.save===n.price?$("#credits_fiexd_container .credits_fiexd_price_or").hide():$("#credits_fiexd_container .credits_fiexd_price_or").show(),$("#credits_fiexd_container .credits_fiexd_submit").text(getCreditsText("Buy_Now"))}}}}]);var e}(),CreditsTableAndFAQ=function(){return _createClass((function e(t,i){_classCallCheck(this,e),this.table_element=t.tableDom,this.FAQ_element=t.FAQDom,this.initEvent()}),[{key:"initEvent",value:function(){var e=this;this.FAQ_element.find(".credits_FAQs_question_icon").on("click",(function(){var t=$(this).closest(".credits_FAQs_item");e.openQuestion_FAQ(t)})),this.FAQ_element.find(".credits_FAQs_answer_text span").on("click",(function(){window.open("https://www.vidqu.ai/video-translator.html")}))}},{key:"setTable",value:function(e){}},{key:"setFAQ",value:function(e){}},{key:"openQuestion_FAQ",value:function(e){e.attr("class").includes("credits_FAQs_act")?e.removeClass("credits_FAQs_act"):e.addClass("credits_FAQs_act")}}])}(),MainInit=function(){return _createClass((function e(t){_classCallCheck(this,e),this.creditsCombo=null,this.creditsPack=null,this.creditsTableAndFAQ=null,this.element=t,this.page="",this.init()}),[{key:"init",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getProductData();case 2:t=e.sent,console.log(t.is_subscript),1===t.is_subscript?($(".credits_pack_combo").addClass("subscribe"),this.creditsCombo=new CreditsCombo(this.element.find(".credits_combo_container"),this,t.product),this.setPage(),this.creditsCombo.initComboBtn()):(this.creditsPack=new CreditsPack(this.element.find(".credits_pack_container"),this,t.product),this.setPage("pack"),this.creditsPack.initPackBtn()),this.creditsTableAndFAQ=new CreditsTableAndFAQ({tableDom:this.element.find(".credits_table"),FAQDom:this.element.find(".credits_FAQs")},this);case 6:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"comboAndPackInitEnd",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pack")===this.page&&setTimeout((function(){e.showMobileSubmit()}),500)}},{key:"setPage",value:function(e){this.page=e,"pack"===e?(this.element.find("#credits_subscribe_page").css("display","none"),this.element.find("#credits_pack_page").css("display","block"),this.element.find("#credits_pack_combo_mB").css("display","none")):(this.element.find("#credits_pack_page").css("display","none"),"new"===mobile_diversion?(this.element.find("#credits_pack_combo_mB").css("display","block"),this.element.find("#credits_subscribe_page").css("display","none")):(this.element.find("#credits_pack_combo_mB").css("display","none"),this.element.find("#credits_subscribe_page").css("display","block")))}},{key:"showMobileSubmit",value:function(){var e=$(".credits_pack_combo")[0].getBoundingClientRect().height,t=null;window.addEventListener("resize",(function(){clearTimeout(t),t=setTimeout((function(){e=$(".credits_pack_combo")[0].getBoundingClientRect().height}),500)})),window.addEventListener("scroll",(function(){window.scrollY>=e?$("#credits_fiexd_container").css({bottom:"0rem"}):$("#credits_fiexd_container").css({bottom:"-3rem"})}))}}]);var e}();function getUrlParam(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?encodeURI(i[2]):null}function getProductData(){return new Promise((function(e,t){var i=getUrlParam("renew")||0;fetchGet("api/products/lists?action=vidqu_credits&lang=en".concat(i?"&renew=1":""),TOOL_API).then((function(t){e(t.data)})).catch((function(e){console.log(e),t(res.data)}))}))}function getParameterByName(e){e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(window.location.search);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}function isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function mobile_diversionInit(){var e="";if(!isMobileDevice())return window.mobile_diversion=e,"";e=getCookie("mobile_diversion"),(e="old")&&setCookie("mobile_diversion","old",360);var t=getCookie("st")||"";"new"===e?t.endsWith("_fsmb")||setCookie("st",t+"_fsmb"):t.endsWith("_fsmb")&&(t=t.split("_fsmb")[0],setCookie("st",t)),window.mobile_diversion=e}var planTooltip=function(){return _createClass((function e(t,i){_classCallCheck(this,e),this.$el=$(t),this.$el.length&&(this.content=i,this.init(),e.initScrollEvent())}),[{key:"init",value:function(){var e=this,t=$('<div class="plan__tooltip"></div>');t.html(this.content),this.$el.on("mouseenter touchstart",(function(){e.$el.parent().append(t);var i=e.$el.get(0).getBoundingClientRect(),n=t.outerWidth(),r=t.outerHeight(),c=i.left+i.width/2-n/2,o=i.bottom+8,a=c+n-window.innerWidth;a>0&&(c-=a),c<0&&(c=19);var s=o+r-window.innerHeight;s>0&&(o-=s),t.css({transform:"translate(".concat(c,"px, ").concat(o,"px)")}),t.stop().fadeIn(100)})),this.$el.on("mouseleave",(function(){t.stop().fadeOut(100,(function(){return t.remove()}))}))}}],[{key:"initScrollEvent",value:function(){this.initScroll||(this.initScroll=!0,$(window).on("scroll",(function(){requestAnimationFrame((function(){var e=$(".plan__tooltip");e.length&&e.fadeOut(100,(function(){return e.remove()}))}))})))}}])}();_defineProperty(planTooltip,"initScroll",!1),$((function(){var e=localStorage.getItem("LOCAL_PATH_STORAGE"),t=e?JSON.parse(e):[],i=$(".credits_table_container tbody tr").slice(0,4),n=$("#credit_plan_info_swap");t.length?(i.show(),n.show(),new planTooltip("#face_swap_info",getCreditsText("info2"))):(i.remove(),n.remove()),$(".credit-pay-dialog").on("click","#success_pay",(function(){var e=localStorage.getItem(window.PRICING_HISTORY_PAGE);localStorage.removeItem(window.PRICING_HISTORY_PAGE),["/face-swap.html","/video-translator.html","/multiple-face-swap.html"].includes(e)?window.location.href=e:window.location.href="/credit-history.html"})),new planTooltip("#translation_info",getCreditsText("info1")),mobile_diversionInit();var r="";isMobileDevice()&&(r="new"===mobile_diversion?"b":""),document.querySelector("my-component").addEventListener("loginsuccess",(function(e){location.reload()})),$(".signout").click((function(){setTimeout((function(){location.reload()}),50)}));new MainInit($(".credits_combo_main_page"));getCookie("access_token")?fetchPost("api/user/info",null,TOOL_API).then((function(e){changeHeaderCredit(e.data.credit),"creditrenew"===getParameterByName("st")?gtag("event","show_creditprice_subscribe"+r):1===e.data.is_credit_subscription?gtag("event","show_creditprice_purchase"):gtag("event","show_creditprice_subscribe"+r)})):gtag("event","show_creditprice_subscribe"+r)}));