"use strict";var submit=!1,maxCharacters=500;$(window).ready((function(){$("#content").on("input",(function(){var t=$("#content").val();t.trim().length>maxCharacters&&$("#content").val(t.substring(0,maxCharacters))})),$(".submit").click((function(){if(!submit){submit=!0;var t=$("#subject").val().trim(),e=$("#email").val(),r=$("#content").val().trim(),o=jsonData.popupTip;if(""!=t)if(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))if(""==r||r.length<20){var n={title:o.errorTitle,type:"error",content:o.errorTextMessage,btn:o.ok,callback:function(){submit=!1}};ToolTip(n)}else{fetchPost("transmit-email",{subject:t,email:e,content:r,action:"vidqu"},TOOL_API).then((function(t){var e={};200==t.code?(e={title:o.sucessTitle,type:"success",content:o.successText,btn:o.ok,callback:function(){submit=!1}},$("#subject,#email,#content").val("")):e={title:o.errorTitle,type:"error",content:o.errorTextC,btn:o.ok,callback:function(){submit=!1}},ToolTip(e)})).catch((function(t){var e={title:o.errorTitle,type:"error",content:o.errorTextC,btn:o.ok,callback:function(){submit=!1}};ToolTip(e),console.log(t,"error")}))}else{var i={title:o.errorTitle,type:"error",content:o.errorTextA,btn:o.ok,callback:function(){submit=!1}};ToolTip(i)}else{var c={title:o.errorTitle,type:"error",content:o.errorTextB,btn:o.ok,callback:function(){submit=!1}};ToolTip(c)}}}))}));