"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new j(r||[]);return o(i,"_invoke",{value:A(e,n,c)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function _(){}var w={};s(w,i,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(O([])));k&&k!==n&&r.call(k,i)&&(w=k);var S=_.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,a,i,c){var l=d(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==_typeof(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function A(t,n,r){var o=f;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=C(c,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var s=d(t,n,r);if("normal"===s.type){if(o=r.done?m:h,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=m,r.method="throw",r.arg=s.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(_typeof(t)+" is not iterable")}return y.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:y,configurable:!0}),y.displayName=s(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},x(T.prototype),s(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new T(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(S),s(S,l,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function asyncGeneratorStep(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){asyncGeneratorStep(a,r,o,i,c,"next",e)}function c(e){asyncGeneratorStep(a,r,o,i,c,"throw",e)}i(void 0)}))}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var TOOL_API=location.host.includes("vidqu.ai")&&!location.host.includes("test")?"https://tool-api.vidqu.ai/":"https://tool-api-test.vidqu.ai/",Vidnoz_API=location.host.includes("vidqu.ai")&&!location.host.includes("test-")?"https://api.vidnoz.com":"https://api-test.vidnoz.com",XTASKVERSION="2.0.0",access_token=getCookie("access_token")?getCookie("access_token"):"",refresh_token=getCookie("refresh_token")?getCookie("refresh_token"):"",allowToken=["/web/recorder/newsharepage.html"],notTokenFlag=!1,request_header="";function jqAjaxPromise(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"web";access_token=getCookie("access_token")?getCookie("access_token"):"",refresh_token=getCookie("refresh_token")?getCookie("refresh_token"):"";var r=TOOL_API+e.url;return(request_header=getCookie("access_token")?{Authorization:"Bearer "+access_token}:{Authorization:""})["X-TASK-VERSION"]=XTASKVERSION,request_header["Request-Language"]="pt",request_header["Request-Origin"]=n,new Promise((function(o,a){var i=$.ajax({url:r,type:e.type||"GET",headers:_objectSpread(_objectSpread(_objectSpread({},request_header),e.headers),{},{"Request-Origin":n}),data:_objectSpread({origin:n},e.data||""),cache:!0,async:!0,timeout:3e5,xhrFields:{withCredentials:!0},xhr:function(){var e=$.ajaxSettings.xhr();return e&&(e.onprogress=function(e){e.lengthComputable&&t(e)}),e},success:function(t){401==(t="string"==typeof t?JSON.parse(t):t).code?(notTokenFlag||requestAtoken(refresh_token),e.cb401&&e.cb401({data:t,resolve:o,reject:a})):o(t)},error:function(e){a(e)},complete:function(e,t){"timeout"===t&&i.abort()}});e.cancelToken&&e.cancelToken.promise.then((function(){a({status:"canceled"}),i.abort()}))}))}function judgeClient(){return/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"ios":/(Android)/i.test(navigator.userAgent)?"android":"pc"}function lazyLoad(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelectorAll("[data-original]"),n=judgeClient(),r=function(e){if("IMG"==e.nodeName||"IFRAME"==e.nodeName)e.src?e.src=e.getAttribute("data-original"):e.setAttribute("src",e.getAttribute("data-original")),e.addEventListener("load",(function(){e.removeAttribute("data-original")}));else{var t=e.getAttribute("data-original");if(t.includes("`")){var r=t.split("`"),o="";r.forEach((function(e){o+="url("+e+"),"})),o=o.substring(0,o.lastIndexOf(",")),e.style.backgroundImage=o}else e.style.backgroundImage="url("+e.getAttribute("data-original")+")";if(t.includes("---")){var a=t.split("---");e.style.backgroundImage="pc"===n?"url("+a[0]+")":"url("+a[1]+")"}e.addEventListener("load",(function(){e.removeAttribute("data-original")}))}},o=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){if(e.target.className.includes("allin_bg"))e.target.parentNode.parentNode.parentNode.querySelectorAll("li").forEach((function(e){var t=e.querySelector("img");t.getAttribute("data-original")&&r(t)}));else if(e.target.className.includes("comment_person")||e.target.className.includes("comment_star")){var n=e.target.parentNode.parentNode.parentNode.parentNode.querySelectorAll("li");n.length&&n.forEach((function(e){e.querySelectorAll("img").forEach((function(e){e.getAttribute("data-original")&&r(e)}))}))}else r(e.target);t.unobserve(e.target)}}))}),{rootMargin:"0px 0px ".concat(e,"px 0px")});t.forEach((function(e){o.observe(e)}))}var currentDate=new Date,timezoneOffset=currentDate.getTimezoneOffset(),browserLanguage=navigator.language||navigator.userLanguage,currentCountry="",getWhiteList=function(){fetchPost("api/site/mio-config?t=".concat((new Date).getTime()),{},TOOL_API).then((function(e){200===e.code?e.data.is_in_ip_whitelist||-480!==timezoneOffset||"zh-cn"!==browserLanguage.toLowerCase()||(document.body.innerHTML='<div class="shield-page">The website is under construction.</div>',document.head.innerHTML="\n                    <style>\n                          *{\n                              padding:0;\n                              margin:0;\n                            }\n                          body{\n                            background-image: linear-gradient(to right, rgb(241,238,255), rgb(254,254,255));\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                            width: 100vw;\n                            height: 100vh;\n                            overflow: hidden;\n                          }\n                          .shield-page{\n                            font: normal normal 600 30px/30px Poppins;\n                            color: #785EEE;\n                          }\n                          @media (max-width: 768px){\n                            .shield-page{\n                              font: normal normal 600 20px/20px Poppins;\n                            }\n                          }\n                     </style>"):console.log("err")}))};function $id(e){var t=document.getElementById(e);return t||null}function goApp(){window.location.href="/app"}function gofaceSwap(){window.location.href="/faceswap.html"}function isShowFooterCookie(){var e=localStorage.getItem("cookieFooter");((new Date).getTime()>e||null===e)&&$(".fix-footer").show()}function showLoginWindow(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fn,n=void 0===t?function(){}:t,r=e.isReloading,o=void 0!==r&&r,a=e.closeFn,i=void 0===a?function(){}:a;document.body.style.overflow="hidden",$("my-component").off("loginsuccess").on("loginsuccess",_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(),console.log("login successful");case 2:case"end":return e.stop()}}),e)})))).off("closeLoginDialog").on("closeLoginDialog",(function(){i(),console.log("login closed"),document.body.style.overflow="auto"})),o?localStorage.setItem("toolsPosition",o):localStorage.setItem("toolsPosition","false"),$("my-component").length&&$("my-component")[0].showLoginDialog()}function setCookie(e,t,n){var r=new Date;r.setDate(r.getDate()+n);var o=location.hostname.includes(".vidqu.ai")?".vidqu.ai":location.hostname,a=encodeURIComponent(t)+(null==n?"":";expires="+r.toUTCString())+";path=/;domain="+o;document.cookie=e+"="+a}function getCookie(e){var t,n=_createForOfIteratorHelper(document.cookie.split(";"));try{for(n.s();!(t=n.n()).done;){var r=_slicedToArray(t.value.trim().split("="),2),o=r[0],a=r[1];if(o===e)return decodeURIComponent(a)}}catch(e){n.e(e)}finally{n.f()}return null}function fetchPost(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(o,a){fetch(n+e,{method:"POST",headers:_objectSpread(_objectSpread({},{"Content-Type":"application/json","Request-Origin":"vidqu",Authorization:"Bearer "+getCookie("access_token")||""}),r),body:JSON.stringify(t)}).then((function(e){o(e.json())})).catch((function(e){a(e)}))}))}function fetchGet(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TOOL_API,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,o){fetch(t+e,{method:"GET",headers:_objectSpread(_objectSpread({},{"Content-Type":"application/json","Request-Origin":"vidqu",Authorization:"Bearer "+getCookie("access_token")||""}),n)}).then((function(e){return r(e.json())})).catch((function(e){return o(e)}))}))}getWhiteList();var fetchPut=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(o,a){fetch(n+e,{method:"PUT",headers:_objectSpread(_objectSpread({},{"X-TASK-VERSION":"2.0.0"}),r),body:t}).then((function(e){return o(e.status)})).catch((function(e){return a(e)}))}))};function initLoginDialog(){var e="/dist/js";addScripTag(e+"/commonSignin/login-dialog.js"),addScripTag(e+"/confirm-dialog/index.js");var t=document.createElement("link");t.rel="stylesheet",t.href=e+"/commonSignin/selfComponent.css",(document.head||document.getElementsByTagName("head")[0]).appendChild(t);var n=document.createElement("my-component");document.body.appendChild(n)}var addScripTag=function(e){var t=document.createElement("script");t.src=e,t.type="module",(document.head||document.getElementsByTagName("head")[0]).appendChild(t)},addcssTag=function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,(document.head||document.getElementsByTagName("head")[0]).appendChild(t)};function Modal(e){var t=e.iconType,n=void 0===t?"":t,r=e.titleText,o=void 0===r?"":r,a=e.isCancel,i=void 0===a?"false":a,c=e.submitType,l=void 0===c?"":c,s=e.content,u=void 0===s?"":s,d=e.contentList,f=void 0===d?"[]":d,h=e.isClose,p=void 0===h?"true":h,m=e.submitText,g=void 0===m?"":m;$("body").append('\n      <confirm-dialog\n        titleText="'.concat(o,"\"\n        contentList='").concat(f,"'\n        iconType=\"").concat(n,'"\n        isClose=').concat(p,'\n        isCancel="').concat(i,'"\n        submitType="').concat(l,'"\n        content="').concat(u,'"\n        submitText="').concat(g,'">\n      </confirm-dialog>'))}function randomchoice(e){var t=null;return function n(){var r=Math.floor(Math.random()*e.length),o=e[r];return o===t?n():(t=o,o)}}function isMobileDevice(){var e=navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)}function touchEnlarge(){var e=0;document.documentElement.addEventListener("touchend",(function(t){var n=Date.now();n-e<=300&&t.preventDefault(),e=n}),!1)}function isDownloadFile(e,t){return new Promise((function(n,r){if("video"===t){var o=document.createElement("video");o.src=e,o.load(),o.onloadeddata=function(){return n()},o.onerror=function(){return r()}}else if("image"===t){var a=new Image;a.src=e,a.onload=function(){return n()},a.onerror=function(){return r()}}}))}var getinsurValue=function(){var e="",t=document.location.pathname;return"/face-swap.html"==t?e="pt_vidq_faceswap":"/video-translator.html"==t?e="pt_vidq_videotranslate":"/"==t||"/about.html"==t||"/contact.html"==t||("/privacy.html"==t?e="pt_privacy":"/terms.html"==t?e="pt_terms":"/ai-attractiveness-test.html"==t?e="pt_vidq_attracttest":"/multiple-face-swap.html"==t&&(e="pt_vidq_mulfaceswap")),isSeo()&&(e=e.replace("pt","ptseo")),e},isSeo=function(){for(var e=0,t=["google.","baidu.","yandex.","bing.","yahoo.","duckduckgo.",".naver.","go.mail.ru","qwant.","sougou.",".so.","rambler.",".ask.","daum.",".ecosia.",".startsiden.",".onetonline.","search.smt.docomo",".biglobe.","seznam."];e<t.length;e++){var n=t[e];if(document.referrer.includes(n))return!0}},setInsurCookie=function(){getCookie("insur")||isSeo()||setCookie("insur",getinsurValue(),30),isSeo()&&(getCookie("insur")&&getCookie("insur").includes("seo")||setCookie("insur",getinsurValue(),30))};function toThousands(e){return(e||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")}setInsurCookie();var localeArea={ja:"ja-JP",de:"de-DE",en:"en-US",es:"en-US",fr:"fr-FR",it:"it-IT",pt:"pt-BR"};function getPreferredLanguage(){var e;e=$("html").attr("lang").substring(0,2);var t=["en","de","es","fr","it","pt","ja","ar"].filter((function(t){return t===e}));return t.length>0?"ja"==t[0]?"jp":t[0]:"en"}function setSessionCookie(e,t){var n=location.hostname.includes("vidqu.ai")?"vidqu.ai":location.hostname,r=escape(t)+";path=/;domain="+n;document.cookie=e+"="+r}function newDownloadFile(){return _newDownloadFile.apply(this,arguments)}function _newDownloadFile(){return _newDownloadFile=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,o,a,i,c,l,s,u,d,f,h=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:"",n=h.length>1?h[1]:void 0,r=h.length>2?h[2]:void 0,o=h.length>3?h[3]:void 0,a=h.length>4?h[4]:void 0,handleBtnMsClass(!0),handleDownloadClass(!0),e.prev=7,l={id:t},n&&(l.img_key=n),r&&(l.width=r),o&&(l.height=o),a&&(l.size=a),e.next=15,jqAjaxPromise({tools:!0,url:"ai/source/download-file",type:"POST",data:l,cb401:function(e){(0,e.resolve)({code:401})}});case 15:if(s=e.sent,console.log("res--下载",s),u=null==s?void 0:s.code,d=null==s||null===(i=s.data)||void 0===i?void 0:i.is_local_download,f=null==s||null===(c=s.data)||void 0===c?void 0:c.additional_data,localStorage.setItem("isSavingtask",!1),200!==u||null==d){e.next=27;break}return handleBtnMsClass(),handleDownloadClass(),e.abrupt("return",{code:d,data:f});case 27:return handleBtnMsClass(),handleDownloadClass(),e.abrupt("return",{code:u});case 30:e.next=38;break;case 32:return e.prev=32,e.t0=e.catch(7),handleBtnMsClass(),handleDownloadClass(),localStorage.setItem("isSavingtask",!1),e.abrupt("return",{code:-1});case 38:case"end":return e.stop()}}),e,null,[[7,32]])}))),_newDownloadFile.apply(this,arguments)}function handleBtnMsClass(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.querySelectorAll(".btnM"),n=0;n<t.length;n++){var r=t[n];e?r.classList.add("downDisabled"):r.classList.remove("downDisabled")}}function handleDownloadClass(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[".btn.download_video",".btn_download",".click_download",".show__img__download",".popup_success .repeat",".main__content__left .left__show__video__box .download__btn",".tips__box .download__again",".btn_download_clip",".show__img__download_clip",".gened__bottom_download","#canClick"],n=0;n<t.length;n++){var r=t[n],o=document.querySelectorAll(r);if(null!=o&&o.length)for(var a=0;a<o.length;a++){var i=o[a];e?i.classList.add("downDisabled"):i.classList.remove("downDisabled")}}}function removeAllDownDisabled(){for(var e=document.querySelectorAll(".downDisabled"),t=0;t<e.length;t++){e[t].classList.remove("downDisabled")}}function setDownloadData(e,t){return _setDownloadData.apply(this,arguments)}function _setDownloadData(){return(_setDownloadData=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,o,a,i,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null==n||null===(r=n.data)||void 0===r?void 0:r.user_id)<=0)){e.next=2;break}return e.abrupt("return",Promise.resolve(null));case 2:return e.prev=2,e.next=5,isLocalDownload(t);case 5:return o=e.sent,a=null,o&&(i=o.is_localdownload,c=o.limit_download,a={code:1===c&&1!==i?3006:i}),e.abrupt("return",Promise.resolve(a));case 11:return e.prev=11,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",Promise.resolve(null));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function isLocalDownload(){return _isLocalDownload.apply(this,arguments)}function _isLocalDownload(){return _isLocalDownload=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,o,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:"",!getCookie("access_token")){e.next=21;break}return e.prev=2,e.next=5,jqAjaxPromise({tools:!0,url:"ai/source/is-local-download",type:"POST",data:{type:t},cb401:function(e){return _asyncToGenerator(_regeneratorRuntime().mark((function n(){var r;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.resolve,e.reject,n.prev=1,n.next=4,newRequestAtoken();case 4:return n.next=6,isLocalDownload(t);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r(null);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},notRefreshToken:!0});case 5:if(n=e.sent,r=null==n?void 0:n.code,o=null==n?void 0:n.data,200!==r||!o){e.next=12;break}return e.abrupt("return",Promise.resolve(o));case 12:case 21:return e.abrupt("return",Promise.resolve(null));case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",Promise.resolve(null));case 19:e.next=22;break;case 22:case"end":return e.stop()}}),e,null,[[2,15]])}))),_isLocalDownload.apply(this,arguments)}$((function(){var e=["/multiple-face-swap.html","/face-swap.html","/ai-girlfriend.html","/ai-boyfriend.html"],t="LOCAL_PATH_STORAGE",n=localStorage.getItem(t),r=n?JSON.parse(n):[];function o(){e.forEach((function(e){e.includes("girlfriend.html")&&$(".chat_tools").show(),$('a[href="'.concat(e,'"]')).parent().show()}))}e.filter((function(e){return new Set(r).has(e)})).length>0?o():e.forEach((function(e){$('a[href="'.concat(e,'"]')).parent().hide()})),e.includes(location.pathname)&&(localStorage.setItem(t,JSON.stringify(_toConsumableArray(new Set([].concat(_toConsumableArray(r),[location.pathname]))))),console.error(n),o())})),window.addEventListener("load",(function(){lazyLoad(),touchEnlarge(),isShowFooterCookie(),$("#go_credits").click((function(){window.open("/credit-history.html")})),$("#footer_btn").on("click",(function(){$(".fix-footer").hide(),localStorage.setItem("cookieFooter",(new Date).getTime()+2592e6)}))})),$(window).ready((function(){initLoginDialog()})),window.questLanguage=getPreferredLanguage();var newRequestAtoken=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,o,a,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jqAjaxPromise({url:"/api/user/refresh-token",type:"POST",data:{refresh_token:getCookie("refresh_token")||""}});case 3:if(r=e.sent,o=null==r?void 0:r.code,a=null==r||null===(t=r.data)||void 0===t?void 0:t.access_token,i=null==r||null===(n=r.data)||void 0===n?void 0:n.refresh_token,200!==o||!a){e.next=15;break}return localStorage.setItem("access_token",a),setCookie("access_token",a,30),localStorage.setItem("refresh_token",i),setCookie("refresh_token",i,30),e.abrupt("return",Promise.resolve());case 15:return logoutPage(),e.abrupt("return",Promise.reject());case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(0),logoutPage(),e.abrupt("return",Promise.reject());case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),formatter=new Intl.NumberFormat(localeArea[getPreferredLanguage()],{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}),formatterFix2=new Intl.NumberFormat(localeArea[getPreferredLanguage()],{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2});function showCreditDes(){return _showCreditDes.apply(this,arguments)}function _showCreditDes(){return(_showCreditDes=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="www.vidnoz.com"===location.host?"https://tool-api.vidnoz.com":"https://tool-api-test.vidnoz.com",e.next=3,fetch("".concat(t,"/ai/public/get-country-type"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:getCookie("access_token")?"Bearer ".concat(getCookie("access_token")):""}});case 3:return n=e.sent,e.next=6,n.json();case 6:"T1"!=e.sent.data.name&&$(".credit_des_bg_content").addClass("t2");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function changeHeaderCredit(e){var t,n=null===(t=$("header-credit"))||void 0===t?void 0:t[0],r=$("#go_credits");n&&n.updateInfo&&n.updateInfo(),r&&r.find(".credits_num span").text(e)}function showCreditBox(){isLogin()&&document.body.clientWidth<=1200?($(".header-credits-box").addClass("show"),$(".menu-item.credit").show()):($(".header-credits-box").removeClass("show"),$(".menu-item.credit").hide())}function getCountryType(){fetchGet("ai/public/get-country-type").then((function(e){if(200===e.code){var t=e.data.name;"T1"!==t&&"T2"!==t||"ios"!==judgeClient()||"/pricing.html"===document.location.pathname||($(".fix-footer").css("bottom","0.88rem"),$("#iosFooter").show(),$("#ios_footer_btn").click((function(){gtag("event","it_faceappclick_fcios"),window.location.href="https://apps.apple.com/app/apple-store/id6497986083?pt=127019031&ct=from_en_vidq&mt=8"})))}})).catch((function(e){console.log(e)}))}getCountryType(),window.PRICING_HISTORY_PAGE="PRICING_HISTORY_PAGE","/pricing.html"!==location.pathname&&localStorage.setItem(PRICING_HISTORY_PAGE,location.pathname);